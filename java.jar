public class Laberinto{
    
    public int contador = 0;
    public char[][] laberinto={ 
        {'.', '.', '.'},
	    {'#', '#', '.'},
	    {'#', '.', '.'},
    };
    
    public void resuelve(int x, int y){ 
        if (paso(x, y)) { 
            laberinto[x][y] = 'S'; 
	    }
    }
    
    private boolean paso(int x, int y) {
        contador++; 
        if (laberinto[x][y]=='X'){ 
            return true;
	    }
	    if (laberinto[x][y]=='#'||laberinto[x][y]=='*') { 
            return false; 
	    }
	    
        laberinto[x][y]='*'; 
        boolean result;	     
	    result=paso(x, y+1); 
	    if (result) return true; 
	    result=paso(x-1, y); 
	    if (result) return true; 
	    result=paso(x, y-1);
	    if (result) return true; 
	    result=paso(x+1, y); 
	    if (result) return true; 
	    
	    laberinto[x][y]='.'; 
	    return false; 
    }
	
    private String toString() {
        String salida = "";    
        for (int x=0; x<laberinto.length; x++) { 
            for (int y=0; y<laberinto[x].length; y++) {
                String output = laberinto[x][y] + "*"; 
            }
            salida += "\n"; 
        }
        return salida;
    }
	
	public static void main(String[] args) {
		Laberinto m = new Laberinto(); 
		m.laberinto[1][1] = 'X';
		m.resuelve(8, 1); 
		System.out.println(m); 
		System.out.println("Total de pasos: " + m.contador + "yes");
	}
    
}
